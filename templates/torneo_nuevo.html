{% extends "base.html" %}

{% block title %}Nuevo Torneo{% endblock %}

{% block content %}
<div class="flex justify-center">
    <div class="w-full max-w-lg">
        <div class="bg-white rounded-xl shadow-sm overflow-hidden">
            <div class="bg-bridge text-white px-6 py-4">
                <h4 class="font-semibold text-lg"><i class="bi bi-trophy"></i> Nuevo Torneo</h4>
            </div>
            <div class="p-6">
                <form action="{% url 'torneo_nuevo' %}" method="POST">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label for="nombre" class="block text-sm font-medium text-gray-700 mb-1">Nombre del Torneo</label>
                        <input type="text" id="nombre" name="nombre"
                               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bridge/20 focus:border-bridge transition"
                               placeholder="Ej: Torneo Semanal #42" required>
                    </div>
                    <div class="mb-4">
                        <label for="fecha" class="block text-sm font-medium text-gray-700 mb-1">Fecha</label>
                        <input type="date" id="fecha" name="fecha"
                               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bridge/20 focus:border-bridge transition"
                               value="{{ hoy }}">
                    </div>
                    <div class="mb-4">
                        <label for="director" class="block text-sm font-medium text-gray-700 mb-1">Director del Torneo</label>
                        <select id="director" name="director"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bridge/20 focus:border-bridge transition bg-white">
                            <option value="">— Seleccionar director —</option>
                            {% for d in directores %}
                            <option value="{{ d.id }}">{{ d.apellido }}, {{ d.nombre }}</option>
                            {% endfor %}
                        </select>
                        {% if not directores %}
                        <p class="mt-1 text-xs text-amber-600">
                            <i class="bi bi-info-circle"></i> No hay directores autorizados. Marcá jugadores como "Director" desde la gestión de jugadores.
                        </p>
                        {% endif %}
                    </div>
                    <div class="mb-6">
                        <label for="lugar" class="block text-sm font-medium text-gray-700 mb-1">Lugar / Sede</label>
                        <select id="lugar" name="lugar"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-bridge/20 focus:border-bridge transition bg-white">
                            <option value="">— Seleccionar lugar —</option>
                            {% for l in lugares %}
                            <option value="{{ l.id }}">{{ l.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="flex gap-3">
                        <button type="submit" class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-bridge text-white rounded-lg hover:bg-bridge-light transition font-medium">
                            <i class="bi bi-plus-circle"></i> Crear Torneo
                        </button>
                        <a href="{% url 'torneos' %}" class="inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition">
                            Cancelar
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
